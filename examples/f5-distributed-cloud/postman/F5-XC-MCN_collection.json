{
	"info": {
		"_postman_id": "6c5f5e2b-35a2-435c-8312-2c85710420ff",
		"name": "F5 XC MCN",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "Create and Deploy",
			"item": [
				{
					"name": "Base Config",
					"item": [
						{
							"name": "Create MCN site grouping label key",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ebc13062-1268-429d-a8c7-220487de3efe",
										"exec": [
											"pm.test(\"Successful POST request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "31c30e8a-0fb2-47e5-a19f-7d48323485da",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"namespace\": \"shared\",\n    \"key\": \"{{app_name_1}}-sites\",\n    \"description\": null,\n    \"values\": [\n        \"all-sites\"\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/shared/known_label_key/create",
								"description": "Shared NamesSpace Sites"
							},
							"response": []
						},
						{
							"name": "Create MCN site grouping label",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "796d2a28-0af2-4424-bcee-effdf55e42f2",
										"exec": [
											"pm.test(\"Successful POST request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "03e5060b-f086-47f3-8706-74a4d3b3054a",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"namespace\": \"shared\",\n    \"key\": \"{{app_name_1}}-sites\",\n    \"value\": \"all-sites\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/shared/known_label/create",
								"description": "Shared NamesSpace Sites"
							},
							"response": []
						}
					],
					"id": "e3d4004f-7139-43a5-ae3a-ecd8553fef65"
				},
				{
					"name": "AWS",
					"item": [
						{
							"name": "Create Site AWS",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "cdd36273-98d1-4860-af3c-b628bddc607c",
										"exec": [
											"pm.test(\"Successful POST request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "259c5ae3-34ed-4b6d-b847-5196b2228b93",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"metadata\": {\n    \"name\": \"{{aws-site-name}}\",\n    \"namespace\": null,\n    \"labels\": {\n        \"ves.io/siteName\": \"{{aws-site-name}}\",\n        \"{{app_name_1}}-sites\": \"all-sites\"\n    },\n    \"annotations\": {},\n    \"description\": \"Created by {{aws-site-name}} using API\",\n    \"disable\": null\n  },\n  \"spec\": {\n    \"vpc\": {\n      \"new_vpc\": {\n        \"name_tag\": \"{{aws-site-name}}-vpc\",\n        \"primary_ipv4\": \"{{aws-network}}\",\n        \"allocate_ipv6\": null\n      }\n    },\n    \"ingress_egress_gw\": {\n      \"az_nodes\": [\n        {\n          \"aws_az_name\": \"{{aws-az}}\",\n          \"inside_subnet\": {\n            \"subnet_param\": {\n              \"ipv4\": \"{{aws-inside-subnet}}\",\n              \"ipv6\": null\n            }\n          },\n          \"workload_subnet\": {\n            \"subnet_param\": {\n              \"ipv4\": \"{{aws-workload-subnet}}\",\n              \"ipv6\": null\n            }\n          },\n          \"outside_subnet\": {\n            \"subnet_param\": {\n              \"ipv4\": \"{{aws-outside-subnet}}\",\n              \"ipv6\": null\n            }\n          },\n          \"disk_size\": null\n        }\n      ],\n      \"no_network_policy\": {},\n      \"no_forward_proxy\": {},\n      \"aws_certified_hw\": \"aws-byol-multi-nic-voltmesh\",\n      \"no_inside_static_routes\": {},\n      \"no_outside_static_routes\": {},\n      \"no_global_network\": {},\n      \"allowed_vip_port\": {\n        \"use_http_https_port\": {}\n      },\n      \"allowed_vip_port_sli\": {\n        \"use_http_https_port\": {}\n      }\n    },\n    \"aws_cred\": {\n      \"tenant\": null,\n      \"namespace\": \"system\",\n      \"name\": \"{{aws-cloud-credential}}\"\n    },\n    \"instance_type\": \"t3.xlarge\",\n    \"disk_size\": null,\n    \"aws_region\": \"{{aws-region}}\",\n    \"ssh_key\": null,\n    \"address\": null,\n    \"coordinates\": null,\n    \"logs_streaming_disabled\": {},\n    \"sw\": {\n      \"default_sw_version\": {}\n    },\n    \"os\": {\n      \"default_os_version\": {}\n    },\n    \"no_worker_nodes\": {}\n  }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/system/aws_vpc_sites"
							},
							"response": []
						},
						{
							"name": "5s delay - allow site create completion",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b058cc91-39a1-460d-a1e3-985d4581976d",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "c3d7aa4d-cbe2-4439-890f-e913a9f6a1fe",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": "https://postman-echo.com/delay/5"
							},
							"response": []
						},
						{
							"name": "Apply Site AWS",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "980e49fb-daf8-4303-8b55-ec038e43dbcd",
										"exec": [
											"pm.test(\"Successful POST request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "4024fecf-f263-4360-aa0a-f9a7b6869327",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"action\": \"APPLY\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/terraform/namespaces/system/terraform/aws_vpc_site/{{aws-site-name}}/run"
							},
							"response": []
						},
						{
							"name": "Apply Site AWS Status",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c96ee0bf-2d7b-4cca-8f13-a02726506f89",
										"exec": [
											"//Get site build status from payload response",
											"var jsonData = JSON.parse(responseBody);",
											"var jsonNamesData = jsonData.status.apply_status.apply_state;",
											"",
											"//console.log(\"Site status: \"+jsonNamesData);",
											"",
											"if (jsonNamesData != undefined){",
											"    var TFerrorstatus = jsonData.status.apply_status.error_output;",
											"    var site_status = jsonNamesData;",
											"    if (jsonNamesData == \"APPLY_PLAN_ERRORED\") {",
											"        console.log(\"Terraform Apply Plan Failure. Site status: \"+site_status);",
											"        postman.setNextRequest(\"null\");",
											"    }",
											"    else if (jsonNamesData == \"APPLY_ERRORED\") {",
											"        console.log(\"Terraform Apply Plan Failure. Site status: \"+site_status);",
											"        postman.setNextRequest(\"null\");",
											"    }",
											"    else if (TFerrorstatus != \"\" || TFerrorstatus != \"\") {",
											"        site_status = \"Failure\";",
											"        console.log(\"Terraform Apply Plan Failure. Site status error: \"+site_status);",
											"        postman.setNextRequest(\"null\");",
											"    }",
											"    else if (jsonNamesData != \"APPLIED\" ) {",
											"        console.log(\"Site status: \"+site_status);",
											"        postman.setNextRequest(\"Apply Site GCP Status\");",
											"        setTimeout(() => {  postman.setNextRequest(\"Apply Site AWS Status\"); }, 10000);",
											"    }",
											"}",
											"",
											"pm.test(\"Site Status: \"+site_status, function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "b68e03fa-e5c9-434c-88d1-c0d78e71fbeb",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/system/terraform_parameters/aws_vpc_site/{{aws-site-name}}/status"
							},
							"response": []
						},
						{
							"name": "Verify Site AWS",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "70e2fcc7-e3d3-4049-ab60-710ac7a19512",
										"exec": [
											"//Get site build status from payload response",
											"var jsonData = JSON.parse(responseBody);",
											"var jsonNamesData = jsonData.spec.site_state;",
											"//console.log(\"Site status: \"+jsonNamesData);",
											"",
											"if (jsonNamesData !== undefined){",
											"    //var vk8s_status = jsonData.items[0].system_metadata.initializers.pending[0].name;",
											"    if (jsonNamesData !== \"ONLINE\" ) {",
											"        console.log(\"Site status: \"+jsonNamesData);",
											"        postman.setNextRequest(\"Verify Site AWS\");",
											"        setTimeout(() => {  postman.setNextRequest(\"Verify Site AWS\"); }, 10000);",
											"    }",
											"}",
											"",
											"",
											"pm.test(\"Site Status: \"+jsonNamesData, function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "65207e71-7a01-4d42-83ca-18c9126a1f3b",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/system/aws_vpc_sites/{{aws-site-name}}"
							},
							"response": []
						}
					],
					"id": "a0668e3b-5400-463e-bd7e-01997fc57280"
				},
				{
					"name": "Azure",
					"item": [
						{
							"name": "Create Site Azure",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "7a6fbd09-4c08-49df-ba5a-487df1c7e19e",
										"exec": [
											"pm.test(\"Successful POST request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "b1904642-e791-4573-9113-288ccbfbb934",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"metadata\": {\n    \"name\": \"{{azure-site-name}}\",\n    \"namespace\": null,\n    \"labels\": {\n        \"ves.io/siteName\": \"{{azure-site-name}}\",\n        \"{{app_name_1}}-sites\": \"all-sites\"\n    },\n    \"annotations\": {},\n    \"description\": \"Created by {{azure-site-name}} using API\",\n    \"disable\": null\n  },\n  \"spec\": {\n    \"resource_group\": \"{{azure-resource-group}}\",\n    \"azure_region\": \"{{azure-region}}\",\n    \"vnet\": {\n      \"new_vnet\": {\n        \"autogenerate\": {},\n        \"primary_ipv4\": \"{{azure-network}}\"\n      }\n    },\n    \"ingress_egress_gw\": {\n      \"az_nodes\": [\n        {\n          \"azure_az\": \"{{azure-az}}\",\n          \"inside_subnet\": {\n            \"subnet_param\": {\n              \"ipv4\": \"{{azure-inside-subnet}}\",\n              \"ipv6\": null\n            }\n          },\n          \"disk_size\": null,\n          \"outside_subnet\": {\n            \"subnet_param\": {\n              \"ipv4\": \"{{azure-outside-subnet}}\",\n              \"ipv6\": null\n            }\n          }\n        }\n      ],\n      \"no_network_policy\": {},\n      \"no_forward_proxy\": {},\n      \"azure_certified_hw\": \"azure-byol-multi-nic-voltmesh\",\n      \"no_inside_static_routes\": {},\n      \"no_outside_static_routes\": {},\n      \"no_global_network\": {}\n    },\n    \"azure_cred\": {\n      \"namespace\": \"system\",\n      \"name\": \"{{azure-cloud-credential}}\"\n    },\n    \"machine_type\": \"Standard_D3_v2\",\n    \"disk_size\": null,\n    \"ssh_key\": null,\n    \"address\": null,\n    \"coordinates\": null,\n    \"logs_streaming_disabled\": {},\n    \"sw\": {\n      \"default_sw_version\": {}\n    },\n    \"os\": {\n      \"default_os_version\": {}\n    },\n    \"no_worker_nodes\": {}\n  }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/system/azure_vnet_sites"
							},
							"response": []
						},
						{
							"name": "5s delay - allow site create completion",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b058cc91-39a1-460d-a1e3-985d4581976d",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "5fb134b4-54c4-4c72-986c-57b2c3d283ef",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": "https://postman-echo.com/delay/5"
							},
							"response": []
						},
						{
							"name": "Apply Site Azure",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "58d04bd2-76c4-4264-bafc-e1114f0a68c3",
										"exec": [
											"pm.test(\"Successful POST request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "1924a203-d133-4599-9249-c5aefa394619",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"action\": \"APPLY\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/terraform/namespaces/system/terraform/azure_vnet_site/{{azure-site-name}}/run"
							},
							"response": []
						},
						{
							"name": "Apply Site Azure Status",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5eebd076-d63d-4fb0-ae18-62b3968bb00e",
										"exec": [
											"//Get site build status from payload response",
											"var jsonData = JSON.parse(responseBody);",
											"var jsonNamesData = jsonData.status.apply_status.apply_state;",
											"",
											"//console.log(\"Site status: \"+jsonNamesData);",
											"",
											"if (jsonNamesData != undefined){",
											"    var TFerrorstatus = jsonData.status.apply_status.error_output;",
											"    var site_status = jsonNamesData;",
											"    if (jsonNamesData == \"APPLY_PLAN_ERRORED\") {",
											"        console.log(\"Terraform Apply Plan Failure. Site status: \"+site_status);",
											"        postman.setNextRequest(\"null\");",
											"    }",
											"    else if (jsonNamesData == \"APPLY_ERRORED\") {",
											"        console.log(\"Terraform Apply Plan Failure. Site status: \"+site_status);",
											"        postman.setNextRequest(\"null\");",
											"    }",
											"    else if (TFerrorstatus != \"\" || TFerrorstatus != \"\") {",
											"        site_status = \"Failure\";",
											"        console.log(\"Terraform Apply Plan Failure. Site status error: \"+site_status);",
											"        postman.setNextRequest(\"null\");",
											"    }",
											"    else if (jsonNamesData != \"APPLIED\" ) {",
											"        console.log(\"Site status: \"+site_status);",
											"        postman.setNextRequest(\"Apply Site Azure Status\");",
											"        setTimeout(() => {  postman.setNextRequest(\"Apply Site GCP Status\"); }, 10000);",
											"    }",
											"}",
											"",
											"pm.test(\"Site Status: \"+site_status, function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "51481b94-cab2-4e2f-b449-128073eaa240",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/system/terraform_parameters/azure_vnet_site/{{azure-site-name}}/status"
							},
							"response": []
						},
						{
							"name": "Verify Site Azure",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d841c11-8b75-4681-aa4a-092b7b2bde5b",
										"exec": [
											"//Get site build status from payload response",
											"var jsonData = JSON.parse(responseBody);",
											"var jsonNamesData = jsonData.spec.site_state;",
											"//console.log(\"Site status: \"+jsonNamesData);",
											"",
											"if (jsonNamesData !== undefined){",
											"    //var vk8s_status = jsonData.items[0].system_metadata.initializers.pending[0].name;",
											"    if (jsonNamesData !== \"ONLINE\" ) {",
											"        console.log(\"Site status: \"+jsonNamesData);",
											"        postman.setNextRequest(\"Verify Site Azure\");",
											"        setTimeout(() => {  postman.setNextRequest(\"Verify Site Azure\"); }, 10000);",
											"    }",
											"}",
											"",
											"",
											"pm.test(\"Site Status: \"+jsonNamesData, function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "ff8ea2e6-ce41-47fc-b67b-dd3a2f0d3461",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/system/azure_vnet_sites/{{azure-site-name}}"
							},
							"response": []
						}
					],
					"id": "5731e10a-804d-4cbc-8313-e4d3f3c03bd9"
				},
				{
					"name": "GCP",
					"item": [
						{
							"name": "Create Site GCP",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4f4a14b0-13d0-492d-8dd2-d259aa8800d4",
										"exec": [
											"pm.test(\"Successful POST request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "c1d100ea-2394-40a0-b91a-a5cb5c884c20",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"metadata\": {\n    \"name\": \"{{gcp-site-name}}\",\n    \"namespace\": null,\n    \"labels\": {\n        \"ves.io/siteName\": \"{{gcp-site-name}}\",\n        \"{{app_name_1}}-sites\": \"all-sites\"\n    },\n    \"annotations\": {},\n    \"description\": \"Created by {{gcp-site-name}} using API\",\n    \"disable\": null\n  },\n  \"spec\": {\n    \"gcp_region\": \"{{gcp-region}}\",\n    \"ingress_egress_gw\": {\n      \"gcp_certified_hw\": \"gcp-byol-multi-nic-voltmesh\",\n      \"gcp_zone_names\": [\n        \"{{gcp-az}}\"\n      ],\n      \"node_number\": 1,\n      \"inside_network\": {\n        \"new_network_autogenerate\": {\n          \"autogenerate\": null\n        }\n      },\n      \"inside_subnet\": {\n        \"new_subnet\": {\n          \"subnet_name\": \"{{gcp-site-name}}-inside-subnet\",\n          \"primary_ipv4\": \"{{gcp-inside-subnet}}\"\n        }\n      },\n      \"outside_network\": {\n        \"new_network_autogenerate\": {\n          \"autogenerate\": null\n        }\n      },\n      \"outside_subnet\": {\n        \"new_subnet\": {\n          \"subnet_name\": \"{{gcp-site-name}}-outside-subnet\",\n          \"primary_ipv4\": \"{{gcp-outside-subnet}}\"\n        }\n      },\n      \"no_network_policy\": {},\n      \"no_forward_proxy\": {},\n      \"no_global_network\": {},\n      \"no_inside_static_routes\": {},\n      \"no_outside_static_routes\": {}\n    },\n    \"cloud_credentials\": {\n      \"tenant\": null,\n      \"namespace\": \"system\",\n      \"name\": \"{{gcp-cloud-credential}}\"\n    },\n    \"instance_type\": \"n1-standard-4\",\n    \"nodes_per_az\": 0,\n    \"disk_size\": null,\n    \"ssh_key\": null,\n    \"address\": null,\n    \"coordinates\": null,\n    \"logs_streaming_disabled\": {},\n    \"sw\": {\n      \"default_sw_version\": {}\n    },\n    \"os\": {\n      \"default_os_version\": {}\n    }\n  }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/system/gcp_vpc_sites"
							},
							"response": []
						},
						{
							"name": "5s delay - allow site create completion",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b058cc91-39a1-460d-a1e3-985d4581976d",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "9303e0b7-4ecf-4c55-9855-d5ada347b3c6",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": "https://postman-echo.com/delay/5"
							},
							"response": []
						},
						{
							"name": "5s delay - allow site create completion Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b058cc91-39a1-460d-a1e3-985d4581976d",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "8f962c17-7be0-43be-ab6e-8146d1e87139",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": "https://postman-echo.com/delay/5"
							},
							"response": []
						},
						{
							"name": "Apply Site GCP",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "605cf6fa-e07a-43a2-b2a9-1815947464af",
										"exec": [
											"pm.test(\"Successful POST request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "0034965f-0a81-40c6-b18f-e6d864545f17",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"action\": \"APPLY\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/terraform/namespaces/system/terraform/gcp_vpc_site/{{gcp-site-name}}/run"
							},
							"response": []
						},
						{
							"name": "Apply Site GCP Status",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d77c60ad-614d-4e01-b4d6-0f51ca18a152",
										"exec": [
											"//Get site build status from payload response",
											"var jsonData = JSON.parse(responseBody);",
											"var jsonNamesData = jsonData.status.apply_status.apply_state;",
											"",
											"//console.log(\"Site status: \"+jsonNamesData);",
											"",
											"if (jsonNamesData != undefined){",
											"    var TFerrorstatus = jsonData.status.apply_status.error_output;",
											"    var site_status = jsonNamesData;",
											"    if (jsonNamesData == \"APPLY_PLAN_ERRORED\") {",
											"        console.log(\"Terraform Apply Plan Failure. Site status: \"+site_status);",
											"        postman.setNextRequest(\"null\");",
											"    }",
											"    else if (jsonNamesData == \"APPLY_ERRORED\") {",
											"        console.log(\"Terraform Apply Plan Failure. Site status: \"+site_status);",
											"        postman.setNextRequest(\"null\");",
											"    }",
											"    else if (TFerrorstatus != \"\" || TFerrorstatus != \"\") {",
											"        site_status = \"Failure\";",
											"        console.log(\"Terraform Apply Plan Failure. Site status error: \"+site_status);",
											"        postman.setNextRequest(\"null\");",
											"    }",
											"    else if (jsonNamesData != \"APPLIED\" ) {",
											"        console.log(\"Site status: \"+site_status);",
											"        postman.setNextRequest(\"Apply Site GCP Status\");",
											"        setTimeout(() => {  postman.setNextRequest(\"Apply Site GCP Status\"); }, 10000);",
											"    }",
											"}",
											"",
											"pm.test(\"Site Status: \"+site_status, function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "6579b39f-e865-4a42-8c02-b6422956943e",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/system/terraform_parameters/gcp_vpc_site/{{gcp-site-name}}/status"
							},
							"response": []
						},
						{
							"name": "Verify Site GCP",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4f8d05fa-1546-4841-a7c7-78e7a10fbe34",
										"exec": [
											"//Get site build status from payload response",
											"var jsonData = JSON.parse(responseBody);",
											"var jsonNamesData = jsonData.spec.site_state;",
											"//console.log(\"Site status: \"+jsonNamesData);",
											"",
											"if (jsonNamesData !== undefined){",
											"    //var vk8s_status = jsonData.items[0].system_metadata.initializers.pending[0].name;",
											"    if (jsonNamesData !== \"ONLINE\" ) {",
											"        console.log(\"Site status: \"+jsonNamesData);",
											"        postman.setNextRequest(\"Verify Site GCP\");",
											"        setTimeout(() => {  postman.setNextRequest(\"Verify Site GCP\"); }, 10000);",
											"    }",
											"}",
											"",
											"",
											"pm.test(\"Site Status: \"+jsonNamesData, function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "7ff2e301-486f-4086-a4c3-28ab37d12e89",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/system/gcp_vpc_sites/{{gcp-site-name}}"
							},
							"response": []
						}
					],
					"id": "d9757fcd-73c3-4fa6-82ed-b4ba03f0b3a0"
				}
			],
			"id": "9a5d670a-9229-450f-a042-2969ed91b4c0"
		},
		{
			"name": "Delete",
			"item": [
				{
					"name": "AWS",
					"item": [
						{
							"name": "Destroy Site AWS",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "a1062777-2263-45f3-aea4-bb4d0c458f9b",
										"exec": [
											"pm.test(\"Successful POST request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "5d644672-ef3c-416d-a0e0-ad53df0b6074",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"action\": \"DESTROY\",\n  \"namespace\": \"system\",\n  \"site_kind\": \"aws_vpc_site\",\n  \"site_name\": \"{{aws-site-name}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/terraform/namespaces/system/terraform/aws_vpc_site/{{aws-site-name}}/run"
							},
							"response": []
						},
						{
							"name": "Destroy Site AWS Status",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c96ee0bf-2d7b-4cca-8f13-a02726506f89",
										"exec": [
											"//Get site build status from payload response",
											"var jsonData = JSON.parse(responseBody);",
											"var jsonNamesData = jsonData.status.apply_status.destroy_state;",
											"//console.log(\"Site status: \"+jsonNamesData);",
											"",
											"if (jsonNamesData !== undefined){",
											"    if (jsonNamesData !== \"DESTROYED\" ) {",
											"        console.log(\"Site status: \"+jsonNamesData);",
											"        postman.setNextRequest(\"Destroy Site AWS Status\");",
											"        setTimeout(() => {  postman.setNextRequest(\"Destroy Site AWS Status\"); }, 10000);",
											"    }",
											"    else {",
											"        console.log(\"Site Succesfully Destroyed\");",
											"    }",
											"}",
											"",
											"pm.test(\"Site Status: \"+jsonNamesData, function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "04e74f12-8177-41ef-961a-c49a2c744dec",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/system/terraform_parameters/aws_vpc_site/{{aws-site-name}}/status"
							},
							"response": []
						},
						{
							"name": "Delete Site AWS",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3556526e-4630-42fd-96e3-c430577171a2",
										"exec": [
											"pm.test(\"Successful DELETE request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "5122bf06-d416-4275-99f9-6fac961d3048",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "DELETE",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"namespace\": \"system\",\n  \"name\": \"{{aws-site-name}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/system/aws_vpc_sites/{{aws-site-name}}"
							},
							"response": []
						},
						{
							"name": "Verify Site Delete AWS",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "70e2fcc7-e3d3-4049-ab60-710ac7a19512",
										"exec": [
											"//Get site build status from payload response",
											"var jsonData = JSON.parse(responseBody);",
											"",
											"if (jsonData.spec.site_state !== undefined) {",
											"    var jsonNamesData = jsonData.spec.site_state;",
											"    //console.log(\"Site status: \"+jsonNamesData);",
											"",
											"    if (jsonNamesData !== undefined){",
											"        //var vk8s_status = jsonData.items[0].system_metadata.initializers.pending[0].name;",
											"        if (jsonNamesData !== \"ONLINE\" ) {",
											"            console.log(\"Site status: \"+jsonNamesData);",
											"            postman.setNextRequest(\"Verify Site Delete AWS\");",
											"            setTimeout(() => {  postman.setNextRequest(\"Verify Site Delete AWS\"); }, 10000);",
											"        }",
											"    }",
											"    else {",
											"        jsonNamesData = \"Site Deleted\";",
											"        console.log(\"Site Succesfully Deleted\");",
											"    }",
											"",
											"    pm.test(\"Site Status: \"+jsonNamesData, function () {",
											"        pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"    });",
											"}",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "eb9ef612-75ad-493e-ba0a-1de5adac9f1e",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/system/aws_vpc_sites/{{aws-site-name}}"
							},
							"response": []
						}
					],
					"id": "30e619e9-31b5-42b0-8d8d-0aae65a1d316"
				},
				{
					"name": "Azure",
					"item": [
						{
							"name": "Destroy Site Azure",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ca8f32e9-fe54-4f55-a959-c0e80ac7d55f",
										"exec": [
											"pm.test(\"Successful POST request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "39726ddd-a2ca-4831-beec-fb089452a869",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"action\": \"DESTROY\",\n  \"namespace\": \"system\",\n  \"site_kind\": \"azure_vnet_site\",\n  \"site_name\": \"{{azure-site-name}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/terraform/namespaces/system/terraform/azure_vnet_site/{{azure-site-name}}/run"
							},
							"response": []
						},
						{
							"name": "Destroy Site Azure Status",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c96ee0bf-2d7b-4cca-8f13-a02726506f89",
										"exec": [
											"//Get site build status from payload response",
											"var jsonData = JSON.parse(responseBody);",
											"var jsonNamesData = jsonData.status.apply_status.destroy_state;",
											"//console.log(\"Site status: \"+jsonNamesData);",
											"",
											"if (jsonNamesData !== undefined){",
											"    if (jsonNamesData !== \"DESTROYED\" ) {",
											"        console.log(\"Site status: \"+jsonNamesData);",
											"        postman.setNextRequest(\"Destroy Site Azure Status\");",
											"        setTimeout(() => {  postman.setNextRequest(\"Destroy Site Azure Status\"); }, 10000);",
											"    }",
											"    else {",
											"        console.log(\"Site Succesfully Destroyed\");",
											"    }",
											"}",
											"",
											"pm.test(\"Site Status: \"+jsonNamesData, function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "98b0a000-ce48-4fef-84be-8461b456d3e1",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/system/terraform_parameters/azure_vnet_site/{{azure-site-name}}/status"
							},
							"response": []
						},
						{
							"name": "Delete Site Azure",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "dec8555f-48e6-4c09-937e-1b87e75f4453",
										"exec": [
											"pm.test(\"Successful DELETE request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "532228a7-7981-4497-a83f-1c31a5c24e6f",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "DELETE",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"namespace\": \"system\",\n  \"name\": \"{{aws-site-name}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/system/azure_vnet_sites/{{azure-site-name}}"
							},
							"response": []
						},
						{
							"name": "Verify Site Delete Azure",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "70e2fcc7-e3d3-4049-ab60-710ac7a19512",
										"exec": [
											"//Get site build status from payload response",
											"var jsonData = JSON.parse(responseBody);",
											"",
											"if (jsonData.spec.site_state !== undefined) {",
											"    var jsonNamesData = jsonData.spec.site_state;",
											"    //console.log(\"Site status: \"+jsonNamesData);",
											"",
											"    if (jsonNamesData !== undefined){",
											"        //var vk8s_status = jsonData.items[0].system_metadata.initializers.pending[0].name;",
											"        if (jsonNamesData !== \"ONLINE\" ) {",
											"            console.log(\"Site status: \"+jsonNamesData);",
											"            postman.setNextRequest(\"Verify Site Delete Azure\");",
											"            setTimeout(() => {  postman.setNextRequest(\"Verify Site Delete Azure\"); }, 10000);",
											"        }",
											"    }",
											"    else {",
											"        jsonNamesData = \"Site Deleted\";",
											"        console.log(\"Site Succesfully Deleted\");",
											"    }",
											"",
											"    pm.test(\"Site Status: \"+jsonNamesData, function () {",
											"        pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "910cc503-7391-4eb9-8862-3bc4fb700e36",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/system/azure_vnet_site/{{azure-site-name}}"
							},
							"response": []
						}
					],
					"id": "ba2963c6-7abd-431f-848a-5c6bb6846592"
				},
				{
					"name": "GCP",
					"item": [
						{
							"name": "Destroy Site GCP",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "584afd00-9de5-4642-9e85-362b8db4d8af",
										"exec": [
											"pm.test(\"Successful POST request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "e274ea0f-b69f-43a3-93dc-6eb368ac07a7",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"action\": \"DESTROY\",\n  \"namespace\": \"system\",\n  \"site_kind\": \"gcp_vpc_site\",\n  \"site_name\": \"{{gcp-site-name}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/terraform/namespaces/system/terraform/gcp_vpc_site/{{gcp-site-name}}/run"
							},
							"response": []
						},
						{
							"name": "Destroy Site GCP Status",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c96ee0bf-2d7b-4cca-8f13-a02726506f89",
										"exec": [
											"//Get site build status from payload response",
											"var jsonData = JSON.parse(responseBody);",
											"var jsonNamesData = jsonData.status.apply_status.destroy_state;",
											"//console.log(\"Site status: \"+jsonNamesData);",
											"",
											"if (jsonNamesData !== undefined){",
											"    if (jsonNamesData !== \"DESTROYED\" ) {",
											"        console.log(\"Site status: \"+jsonNamesData);",
											"        postman.setNextRequest(\"Destroy Site GCP Status\");",
											"        setTimeout(() => {  postman.setNextRequest(\"Destroy Site GCP Status\"); }, 10000);",
											"    }",
											"    else {",
											"        console.log(\"Site Succesfully Destroyed\");",
											"    }",
											"}",
											"",
											"pm.test(\"Site Status: \"+jsonNamesData, function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "ecd24ddc-83ca-4afb-b24b-f199c4c98e9b",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/system/terraform_parameters/gcp_vpc_site/{{gcp-site-name}}/status"
							},
							"response": []
						},
						{
							"name": "Delete Site GCP",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "509b2e00-a24f-4b7a-a198-02d79de7f2ba",
										"exec": [
											"pm.test(\"Successful DELETE request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "69e901a5-b8b5-42ac-80ef-c697aafde983",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "DELETE",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"namespace\": \"system\",\n  \"name\": \"{{gcp-site-name}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/system/gcp_vpc_sites/{{gcp-site-name}}"
							},
							"response": []
						},
						{
							"name": "Verify Site Delete GCP",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "70e2fcc7-e3d3-4049-ab60-710ac7a19512",
										"exec": [
											"//Get site build status from payload response",
											"var jsonData = JSON.parse(responseBody);",
											"",
											"if (jsonData.spec.site_state !== undefined) {",
											"    var jsonNamesData = jsonData.spec.site_state;",
											"    //console.log(\"Site status: \"+jsonNamesData);",
											"",
											"    if (jsonNamesData !== undefined){",
											"        //var vk8s_status = jsonData.items[0].system_metadata.initializers.pending[0].name;",
											"        if (jsonNamesData !== \"ONLINE\" ) {",
											"            console.log(\"Site status: \"+jsonNamesData);",
											"            postman.setNextRequest(\"Verify Site Delete GCP\");",
											"            setTimeout(() => {  postman.setNextRequest(\"Verify Site Delete GCP\"); }, 10000);",
											"        }",
											"    }",
											"    else {",
											"        jsonNamesData = \"Site Deleted\";",
											"        console.log(\"Site Succesfully Deleted\");",
											"    }",
											"",
											"    pm.test(\"Site Status: \"+jsonNamesData, function () {",
											"        pm.expect(pm.response.code).to.be.oneOf([200,409]);",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"id": "fc56ce3c-7c50-4321-98ed-e8f889b982a4",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": "https://{{voltconsole-host}}.console.ves.volterra.io/api/config/namespaces/system/gcp_vpc_site/{{gcp-site-name}}"
							},
							"response": []
						}
					],
					"id": "ee881abb-f62f-4846-a633-cd1a888e8f14"
				}
			],
			"id": "006f3159-330b-4b3e-bb78-1240b09cb96e"
		}
	],
	"auth": {
		"type": "apikey",
		"apikey": {
			"value": "APIToken {{api_credential}}",
			"key": "Authorization"
		}
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "6b03dde4-0443-4795-a7e7-9c78569fe267",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "f4a030c2-6ceb-4844-9a83-0390a18f4f1b",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "98badfc5-ecac-4086-bc93-c1f19df976f7",
			"key": "api-token",
			"value": ""
		},
		{
			"id": "3ff39d82-343a-474e-b2f9-cf0f562b6a4f",
			"key": "app-namespace",
			"value": ""
		},
		{
			"id": "63eff156-2843-4ff7-b223-728868c88fe5",
			"key": "tenant",
			"value": ""
		},
		{
			"id": "dbbccc5a-9b24-4071-9fcc-7fb05dffdd9b",
			"key": "domain",
			"value": ""
		},
		{
			"id": "da7cb2da-3b5f-444b-9b65-34968f7c4425",
			"key": "site-name",
			"value": ""
		},
		{
			"id": "c1315296-e343-491c-829f-04213a2f0909",
			"key": "short-name",
			"value": ""
		},
		{
			"id": "1ec2521d-772f-4678-a0a9-19e4ee8aacd3",
			"key": "name",
			"value": ""
		}
	]
}